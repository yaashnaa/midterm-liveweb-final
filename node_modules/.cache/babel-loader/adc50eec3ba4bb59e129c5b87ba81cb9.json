{"ast":null,"code":"import _slicedToArray from\"/Users/yashna/Desktop/midterm-liveweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Editor from\"./Editor\";import{socket}from\"../Socket\";import useLocalStorage from\"../hooks/useLocalStorage\";import{io}from\"socket.io-client\";// Import the socket.io-client library\nimport Call from\"./Call\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useLocalStorage=useLocalStorage(\"html\",\"\"),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),html=_useLocalStorage2[0],setHtml=_useLocalStorage2[1];var _useLocalStorage3=useLocalStorage(\"css\",\"\"),_useLocalStorage4=_slicedToArray(_useLocalStorage3,2),css=_useLocalStorage4[0],setCss=_useLocalStorage4[1];var _useLocalStorage5=useLocalStorage(\"js\",\"\"),_useLocalStorage6=_slicedToArray(_useLocalStorage5,2),js=_useLocalStorage6[0],setJs=_useLocalStorage6[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),srcDoc=_useState4[0],setSrcDoc=_useState4[1];var _useState5=useState(socket.connected),_useState6=_slicedToArray(_useState5,2),isConnected=_useState6[0],setIsConnected=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showCall=_useState8[0],setShowCall=_useState8[1];useEffect(function(){socket.emit(\"code-update\",{html:html,css:css,js:js});var timeout=setTimeout(function(){setSrcDoc(\"\\n        <html>\\n          <body>\".concat(html,\"</body>\\n          <style>\").concat(css,\"</style>\\n          <script>\").concat(js,\"</script>\\n        </html>\\n      \"));},150);return function(){return clearTimeout(timeout);};},[html,css,js]);useEffect(function(){socket.on(\"refresh-page\",function(){// Refresh the page when a refresh event is received\nwindow.location.reload();});},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"cont\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-cont\"},/*#__PURE__*/React.createElement(\"button\",{className:\"call-btn\",onClick:function onClick(){return setOpen(function(prevOpen){return!prevOpen;});}},/*#__PURE__*/React.createElement(\"div\",{className:\"nav\"},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:1.5,stroke:\"currentColor\",className:\"w-6 h-6\"},/*#__PURE__*/React.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z\"})))),open&&/*#__PURE__*/React.createElement(Call,null),/*#__PURE__*/React.createElement(\"div\",{className:\"pane top-pane\"},/*#__PURE__*/React.createElement(Editor,{language:\"xml\",displayName:\"HTML\",value:html,onChange:setHtml,socket:socket}),/*#__PURE__*/React.createElement(Editor,{language:\"css\",displayName:\"CSS\",value:css,onChange:setCss,socket:socket}),/*#__PURE__*/React.createElement(Editor,{language:\"javascript\",displayName:\"JS\",value:js,onChange:setJs,socket:socket})),/*#__PURE__*/React.createElement(\"div\",{className:\"pane\"},/*#__PURE__*/React.createElement(\"iframe\",{socket:socket,srcDoc:srcDoc,title:\"output\",sandbox:\"allow-scripts\",frameBorder:\"0\",width:\"100%\",height:\"100%\"})))));}export default App;","map":{"version":3,"sources":["/Users/yashna/Desktop/midterm-liveweb/src/components/App.js"],"names":["React","useState","useEffect","Editor","socket","useLocalStorage","io","Call","App","open","setOpen","html","setHtml","css","setCss","js","setJs","srcDoc","setSrcDoc","connected","isConnected","setIsConnected","showCall","setShowCall","emit","timeout","setTimeout","clearTimeout","on","window","location","reload","prevOpen"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Editor from \"./Editor\";\nimport { socket } from \"../Socket\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { io } from \"socket.io-client\"; // Import the socket.io-client library\n\nimport Call from \"./Call\";\n\nfunction App() {\n  const [open, setOpen] = useState(true);\n  const [html, setHtml] = useLocalStorage(\"html\", \"\");\n  const [css, setCss] = useLocalStorage(\"css\", \"\");\n  const [js, setJs] = useLocalStorage(\"js\", \"\");\n  const [srcDoc, setSrcDoc] = useState(\"\");\n  const [isConnected, setIsConnected] = useState(socket.connected);\n\n  const [showCall, setShowCall] = useState(false);\n  useEffect(() => {\n    socket.emit(\"code-update\", { html, css, js });\n    const timeout = setTimeout(() => {\n      setSrcDoc(`\n        <html>\n          <body>${html}</body>\n          <style>${css}</style>\n          <script>${js}</script>\n        </html>\n      `);\n    }, 150);\n\n    return () => clearTimeout(timeout);\n  }, [html, css, js]);\n\n  useEffect(() => {\n    socket.on(\"refresh-page\", () => {\n      // Refresh the page when a refresh event is received\n      window.location.reload();\n    });\n  }, []);\n\n\n\n  return (\n    <>\n      <div className=\"cont\">\n        <div className=\"flex-cont\">\n          <button\n            className=\"call-btn\"\n            onClick={() => setOpen((prevOpen) => !prevOpen)}\n          >\n            <div className=\"nav\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth={1.5}\n                stroke=\"currentColor\"\n                className=\"w-6 h-6\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z\"\n                />\n              </svg>\n            </div>\n          </button>\n          {open && <Call />}\n\n          <div className=\"pane top-pane\">\n            <Editor\n              language=\"xml\"\n              displayName=\"HTML\"\n              value={html}\n              onChange={setHtml}\n              socket={socket}\n            />\n            <Editor\n              language=\"css\"\n              displayName=\"CSS\"\n              value={css}\n              onChange={setCss}\n              socket={socket}\n            />\n            <Editor\n              language=\"javascript\"\n              displayName=\"JS\"\n              value={js}\n              onChange={setJs}\n              socket={socket}\n            />\n          </div>\n          <div className=\"pane\">\n            <iframe\n              socket={socket}\n              srcDoc={srcDoc}\n              title=\"output\"\n              sandbox=\"allow-scripts\"\n              frameBorder=\"0\"\n              width=\"100%\"\n              height=\"100%\"\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}